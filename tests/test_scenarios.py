"""tests/test_scenarios.pyPurpose-------Test the largest-first roof selection by coverage fraction.We avoid any network or CRS steps here:- Create a tiny GeoDataFrame with two polygons and pre-set area_m2."""import geopandas as gpdfrom shapely.geometry import Polygonfrom spongekit_core.scenarios import select_green_roofs_by_fractiondef test_selection_fraction_largest_first():    """    Two buildings with areas 400 and 100 m² (already in 'area_m2').    Total = 500 m². For 50% coverage, target = 250 m².    Largest-first logic should pick the 400 m² roof (since it's the first that meets/exceeds target).    """    # Build square polygons (coords not important for the test)    polys = [        Polygon([(0, 0), (20, 0), (20, 20), (0, 20)]),   # pretend 400 m²        Polygon([(0, 0), (10, 0), (10, 10), (0, 10)]),   # pretend 100 m²    ]    gdf = gpd.GeoDataFrame({"geometry": polys}, crs=4326)    gdf["area_m2"] = [400.0, 100.0]    sel, target, total = select_green_roofs_by_fraction(gdf, frac=0.5)    assert total == 500.0    assert target == 250.0    assert abs(sel["area_m2"].sum() - 400.0) < 1e-9    # Ensure the larger roof is what got selected    assert sel["area_m2"].max() == 400.0